import { SPV } from "../lib/spv.js"
import { SPVTx } from "../lib/spv-tx.js"
import { Br, BlockHeader } from "bsv"

const header = BlockHeader.fromBuffer(Buffer.from('0200000041cab84805d7eca052eaea4c7c32bdc657cee22d77c2ec210000000000000000dfd053ab13509d08d480a30c83c258abbbcdef8bf7ec8e843a63df8510d1c65746581054ee152818b4badb7f', 'hex'));
const s1 = SPVTx.fromBuffer(Buffer.from('01000000010000000000000000000000000000000000000000000000000000000000000000ffffffff590300e204e4b883e5bda9e7a59ee4bb99e9b1bcfabe6d6d41ba9c7a8da03a5bb81963f36d25ed4e310b15d8521bdb5cb6e60c8ecb9e83fb1000000000000000a163494fc18601004d696e65642062792077616e676c75393230ffffffff01205b5d95000000001976a914c825a1ecf2a6830c4401620c3a16f1995057c2ab88ac00000000000000000000000015aab005b28a326ade60f07515c33517ea5cb598f28fb7ea000ae9d78944b260e78fc01ef65d0af42c1efac38a1a0e68cc86ed1fa76ed2b208f10598cbcdab4f5636271d3b1b448975fa431cb2e4c2510cef1624ebcf1ff6cccb628720baaefbfea0dfca46b9e733c1fe731b23909a9b653e92b95dc6d3488afe27161f3828bf0a67fe472f6ed4977bd4dd8a70e42aebbab14c58ea7a583da9b0feddc55f997d387e59d21d04fa79caca523f38d3f3106754114e0abc2640aec0475cee5a804c49d640209318a4a3b70a60529fe791d1e29413679bc05fbc34a45ae4d74b35183da882da073ce9ed812ebcea1f2efd516e0f8e4ee46e372871ef26c62926149a1605c88f5a3cc64bfcdaad4ca8e9a1400a328d88fc8a7dd7b76a7ef7e8548128bf65ce631468e64a949dc44c37a9b78770abc95cf827d549b1f024638c18d799285940e9b94a6c1829e212da110a82154083b2d793d642fcea32', 'hex'))
console.log(s1.toJSON())
console.log(s1.toBw().toString('hex'))
console.log(s1.validate(header))